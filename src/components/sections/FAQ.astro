---
import Accordion from "../ui/Accordion.astro";

const { heading, subheading, faq } = Astro.props.Content;

---

<section class="flex flex-col gap-14 items-center px-5 py-10 mx-auto my-0 w-[1050px] max-md:gap-10 max-md:px-5 max-md:py-8 max-md:w-full max-md:max-w-[756px] max-sm:gap-8 max-sm:px-4 max-sm:py-6">
  <header class="flex flex-col gap-3 items-center w-[756px] max-md:w-full">
    <h2 class="self-stretch text-5xl font-medium text-center leading-[72px] text-neutral-800 max-md:text-4xl max-md:leading-[56px] max-sm:text-3xl max-sm:leading-10">
      {heading}
    </h2>
    <p class="self-stretch text-lg leading-9 text-center opacity-75 text-neutral-800 max-md:text-base max-md:leading-7 max-sm:text-sm max-sm:leading-6">
      {subheading}
    </p>
  </header>

  <div class="flex flex-col gap-6 justify-center items-start self-stretch max-sm:gap-5">
    {faq.map((item, index) => (
      <Fragment>
        <details class="flex flex-col gap-4 items-start self-stretch max-sm:gap-3 group w-full">
          <summary class="flex justify-between items-center self-stretch w-full cursor-pointer list-none pr-2">
            <h3 class="flex-1 gap-3 text-2xl font-medium leading-10 text-neutral-800 max-md:text-xl max-md:leading-8 max-sm:text-lg max-sm:leading-7">
              {item.title}
            </h3>
            <div class="min-w-[24px] flex-shrink-0">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                   class="faq-arrow transition-transform duration-300 group-open:rotate-180">
                <path d="M2.47888 7.88312L3.89813 6.46387L12.1326 14.6984L20.3671 6.46387L21.7864 7.88312L12.1326 17.5369L2.47888 7.88312Z" fill="#222222"></path>
              </svg>
            </div>
          </summary>
          <p class="text-base leading-7 text-neutral-800 opacity-75 group-open:pb-4">
            {item.details}
          </p>
          <div class="self-stretch h-px border-b border-solid border-b-neutral-800 group-open:hidden"></div>
        </details>
        {index < faq.length - 1 && (
          <hr class="self-stretch h-px border-b border-solid border-b-neutral-800">
        )}
      </Fragment>
    ))}
  </div>
</section>

<style>
  /* Specific fixes for screens around 800-820px */
  @media (min-width: 768px) and (max-width: 820px) {
    section {
      max-width: calc(100% - 32px);
      padding: 2rem 1rem;
    }

    summary {
      padding-right: 0.5rem;
    }

    h3 {
      font-size: 1.25rem;
      line-height: 1.75rem;
      width: auto;
      max-width: 85%;
    }
  }
</style>